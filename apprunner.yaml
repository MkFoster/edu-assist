version: 1.0
runtime: python3
build:
    commands:
        build:
            - echo "Installing dependencies"
            - pip3 install -r requirements.txt
run:
    runtime-version: "3.11"
    command: uvicorn web_app:app --host 0.0.0.0 --port 8000
    network:
        port: 8000
        env: PORT
    env:
        - name: PORT
          value: "8000"
        # AWS Configuration - Set these in App Runner Console
        # Don't put actual values here for security
        - name: AWS_REGION
          value: "us-east-1"
        - name: AWS_ACCESS_KEY_ID
          value: "" # Set in App Runner Console
        - name: AWS_SECRET_ACCESS_KEY
          value: "" # Set in App Runner Console
        # Application Configuration
        - name: COLLEGE_SCORECARD_API_KEY
          value: "" # Set in App Runner Console
        - name: STRANDS_MODEL_PROVIDER
          value: "bedrock"
        - name: STRANDS_MODEL_ID
          value: "anthropic.claude-sonnet-4-5-20250929-v1:0"
